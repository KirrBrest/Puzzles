{"version":3,"file":"index-C2mBlGo5.js","sources":["../../src/components/InputField.ts","../../src/components/LoginButton.ts","../../src/utils/validation.ts","../../src/utils/storage.ts","../../src/components/LogoutButton.ts","../../src/components/StartButton.ts","../../src/components/ConfirmModal.ts","../../src/utils/cardPadding.ts","../../src/utils/cardWidthCalculator.ts","../../src/utils/rowClickHandler.ts","../../src/components/GameBoard.ts","../../src/components/WordCard.ts","../../src/utils/levelLoader.ts","../../src/components/SourceCardsArea.ts","../../src/components/NewGameButton.ts","../../src/components/NewRowButton.ts","../../src/pages/GamePage.ts","../../src/pages/StartPage.ts","../../src/components/LoginForm.ts","../../src/pages/LoginPage.ts","../../src/utils/auth.ts","../../src/main.ts"],"sourcesContent":["import { InputFieldResult } from '../types';\n\nexport default function createInputField(\n  id: string,\n  labelText: string,\n  required: boolean\n): InputFieldResult {\n  const fieldContainer = document.createElement('div');\n  fieldContainer.className = 'input-field';\n\n  const label = document.createElement('label');\n  label.setAttribute('for', id);\n  label.className = 'input-label';\n  label.textContent = labelText;\n  fieldContainer.appendChild(label);\n\n  const input = document.createElement('input');\n  input.type = 'text';\n  input.id = id;\n  input.name = id;\n  input.className = 'input-control';\n  input.required = required;\n  input.setAttribute('autocomplete', 'off');\n\n  fieldContainer.appendChild(input);\n\n  const errorMessage = document.createElement('span');\n  errorMessage.className = 'input-error';\n  errorMessage.setAttribute('role', 'alert');\n  errorMessage.setAttribute('aria-live', 'polite');\n  fieldContainer.appendChild(errorMessage);\n\n  return { container: fieldContainer, input, errorMessage };\n}\n","export default function createLoginButton(): HTMLButtonElement {\n  const button = document.createElement('button');\n  button.type = 'submit';\n  button.className = 'login-button';\n  button.textContent = 'Login';\n\n  return button;\n}\n","import { ValidationResult } from '../types';\n\nconst NAME_REGEX = /^[A-Za-z-]+$/;\nconst MIN_FIRST_NAME_LENGTH = 3;\nconst MIN_SURNAME_LENGTH = 4;\n\nfunction isValidCharacters(value: string): boolean {\n  return NAME_REGEX.test(value);\n}\n\nfunction isValidHyphenPosition(value: string): boolean {\n  if (value.length === 0) return true;\n  return value[0] !== '-' && value[value.length - 1] !== '-';\n}\n\nfunction isFirstLetterUppercase(value: string): boolean {\n  if (value.length === 0) return true;\n  const firstChar = value[0];\n  if (!firstChar) return false;\n  return firstChar >= 'A' && firstChar <= 'Z';\n}\n\nfunction validateFirstName(value: string): ValidationResult {\n  const trimmed = value.trim();\n\n  if (trimmed.length === 0) {\n    return { isValid: false, errorMessage: 'First name is required' };\n  }\n\n  if (trimmed.length < MIN_FIRST_NAME_LENGTH) {\n    return {\n      isValid: false,\n      errorMessage: `First name must be at least ${MIN_FIRST_NAME_LENGTH} characters`,\n    };\n  }\n\n  if (!isValidCharacters(trimmed)) {\n    return {\n      isValid: false,\n      errorMessage: 'First name can only contain letters and hyphen',\n    };\n  }\n\n  if (!isValidHyphenPosition(trimmed)) {\n    return {\n      isValid: false,\n      errorMessage: 'Hyphen cannot be first or last character',\n    };\n  }\n\n  if (!isFirstLetterUppercase(trimmed)) {\n    return {\n      isValid: false,\n      errorMessage: 'First letter must be uppercase',\n    };\n  }\n\n  return { isValid: true, errorMessage: '' };\n}\n\nfunction validateSurname(value: string): ValidationResult {\n  const trimmed = value.trim();\n\n  if (trimmed.length === 0) {\n    return { isValid: false, errorMessage: 'Surname is required' };\n  }\n\n  if (trimmed.length < MIN_SURNAME_LENGTH) {\n    return {\n      isValid: false,\n      errorMessage: `Surname must be at least ${MIN_SURNAME_LENGTH} characters`,\n    };\n  }\n\n  if (!isValidCharacters(trimmed)) {\n    return {\n      isValid: false,\n      errorMessage: 'Surname can only contain letters and hyphen',\n    };\n  }\n\n  if (!isValidHyphenPosition(trimmed)) {\n    return {\n      isValid: false,\n      errorMessage: 'Hyphen cannot be first or last character',\n    };\n  }\n\n  if (!isFirstLetterUppercase(trimmed)) {\n    return {\n      isValid: false,\n      errorMessage: 'First letter must be uppercase',\n    };\n  }\n\n  return { isValid: true, errorMessage: '' };\n}\n\nexport function validateNameField(fieldId: string, value: string): ValidationResult {\n  if (fieldId === 'firstName') {\n    return validateFirstName(value);\n  }\n  if (fieldId === 'surname') {\n    return validateSurname(value);\n  }\n  return { isValid: false, errorMessage: 'Invalid field' };\n}\n\nexport function formatNameInput(value: string): string {\n  let formatted = value;\n\n  formatted = formatted.replace(/[^A-Za-z-]/g, '');\n\n  if (formatted.length > 0) {\n    const firstChar = formatted[0];\n    if (firstChar) {\n      const upperFirst = firstChar.toUpperCase();\n      const rest = formatted.slice(1).toLowerCase();\n      formatted = upperFirst + rest;\n    }\n  }\n\n  return formatted;\n}\n","import { UserData } from '../types';\n\nconst STORAGE_KEY = 'puzzle_user_data';\n\nfunction isUserData(value: unknown): value is UserData {\n  if (typeof value !== 'object' || value === null) {\n    return false;\n  }\n\n  if (!('firstName' in value) || !('surname' in value)) {\n    return false;\n  }\n\n  const valueObj: Record<string, unknown> = {};\n  Object.keys(value).forEach((key) => {\n    const val = (value as Record<string, unknown>)[key];\n    valueObj[key] = val;\n  });\n\n  return (\n    typeof valueObj.firstName === 'string' &&\n    typeof valueObj.surname === 'string' &&\n    valueObj.firstName.length > 0 &&\n    valueObj.surname.length > 0\n  );\n}\n\nexport function saveUserData(userData: UserData): void {\n  try {\n    const jsonData = JSON.stringify(userData);\n    localStorage.setItem(STORAGE_KEY, jsonData);\n  } catch (error) {\n    if (error instanceof Error) {\n      throw new Error(`Failed to save user data: ${error.message}`);\n    }\n    throw new Error('Failed to save user data: Unknown error');\n  }\n}\n\nexport function getUserData(): UserData | null {\n  try {\n    const storedData = localStorage.getItem(STORAGE_KEY);\n\n    if (!storedData) {\n      return null;\n    }\n\n    const parsed = JSON.parse(storedData);\n\n    if (isUserData(parsed)) {\n      return parsed;\n    }\n\n    return null;\n  } catch {\n    return null;\n  }\n}\n\nexport function clearUserData(): void {\n  try {\n    localStorage.removeItem(STORAGE_KEY);\n  } catch (error) {\n    if (error instanceof Error) {\n      throw new Error(`Failed to clear user data: ${error.message}`);\n    }\n    throw new Error('Failed to clear user data: Unknown error');\n  }\n}\n","export default function createLogoutButton(): HTMLButtonElement {\n  const button = document.createElement('button');\n  button.type = 'button';\n  button.className = 'logout-button';\n  button.textContent = 'Logout';\n\n  return button;\n}\n","export default function createStartButton(): HTMLButtonElement {\n  const button = document.createElement('button');\n  button.type = 'button';\n  button.className = 'start-button';\n  button.textContent = 'Start';\n\n  return button;\n}\n","import { ConfirmModalResult, AlertModalResult } from '../types';\n\nexport function createConfirmModal(\n  message: string,\n  confirmText: string = 'Confirm',\n  cancelText: string = 'Cancel'\n): ConfirmModalResult {\n  const modalOverlay = document.createElement('div');\n  modalOverlay.className = 'modal-overlay';\n\n  const modal = document.createElement('div');\n  modal.className = 'modal';\n\n  const modalContent = document.createElement('div');\n  modalContent.className = 'modal-content';\n\n  const modalMessage = document.createElement('p');\n  modalMessage.className = 'modal-message';\n  modalMessage.textContent = message;\n  modalContent.appendChild(modalMessage);\n\n  const modalButtons = document.createElement('div');\n  modalButtons.className = 'modal-buttons';\n\n  const cancelButton = document.createElement('button');\n  cancelButton.type = 'button';\n  cancelButton.className = 'modal-button modal-button-cancel';\n  cancelButton.textContent = cancelText;\n\n  const confirmButton = document.createElement('button');\n  confirmButton.type = 'button';\n  confirmButton.className = 'modal-button modal-button-confirm';\n  confirmButton.textContent = confirmText;\n\n  modalButtons.appendChild(cancelButton);\n  modalButtons.appendChild(confirmButton);\n  modalContent.appendChild(modalButtons);\n\n  modal.appendChild(modalContent);\n  modalOverlay.appendChild(modal);\n\n  const show = (): Promise<boolean> =>\n    new Promise((resolve) => {\n      document.body.appendChild(modalOverlay);\n\n      let isResolved = false;\n\n      let cleanup: () => void;\n\n      const handleConfirm = (): void => {\n        if (isResolved) return;\n        isResolved = true;\n        cleanup();\n        resolve(true);\n      };\n\n      const handleCancel = (): void => {\n        if (isResolved) return;\n        isResolved = true;\n        cleanup();\n        resolve(false);\n      };\n\n      const handleOverlayClick = (e: MouseEvent): void => {\n        if (e.target === modalOverlay) {\n          handleCancel();\n        }\n      };\n\n      const handleEscape = (e: KeyboardEvent): void => {\n        if (e.key === 'Escape') {\n          handleCancel();\n        }\n      };\n\n      cleanup = (): void => {\n        document.body.removeChild(modalOverlay);\n        confirmButton.removeEventListener('click', handleConfirm);\n        cancelButton.removeEventListener('click', handleCancel);\n        modalOverlay.removeEventListener('click', handleOverlayClick);\n        document.removeEventListener('keydown', handleEscape);\n      };\n\n      confirmButton.addEventListener('click', handleConfirm);\n      cancelButton.addEventListener('click', handleCancel);\n      modalOverlay.addEventListener('click', handleOverlayClick);\n      document.addEventListener('keydown', handleEscape);\n    });\n\n  return { container: modalOverlay, show };\n}\n\nexport function createAlertModal(\n  message: string,\n  buttonText: string = 'Continue'\n): AlertModalResult {\n  const modalOverlay = document.createElement('div');\n  modalOverlay.className = 'modal-overlay';\n\n  const modal = document.createElement('div');\n  modal.className = 'modal';\n\n  const modalContent = document.createElement('div');\n  modalContent.className = 'modal-content';\n\n  const modalMessage = document.createElement('p');\n  modalMessage.className = 'modal-message';\n  modalMessage.textContent = message;\n  modalContent.appendChild(modalMessage);\n\n  const modalButtons = document.createElement('div');\n  modalButtons.className = 'modal-buttons';\n\n  const continueButton = document.createElement('button');\n  continueButton.type = 'button';\n  continueButton.className = 'modal-button modal-button-confirm';\n  continueButton.textContent = buttonText;\n\n  modalButtons.appendChild(continueButton);\n  modalContent.appendChild(modalButtons);\n\n  modal.appendChild(modalContent);\n  modalOverlay.appendChild(modal);\n\n  const show = (): Promise<void> =>\n    new Promise((resolve) => {\n      document.body.appendChild(modalOverlay);\n\n      let isResolved = false;\n      let cleanup: () => void;\n\n      function handleContinue(): void {\n        if (isResolved) return;\n        isResolved = true;\n        cleanup();\n        resolve();\n      }\n\n      function handleOverlayClick(e: MouseEvent): void {\n        if (e.target === modalOverlay) {\n          handleContinue();\n        }\n      }\n\n      function handleEscape(e: KeyboardEvent): void {\n        if (e.key === 'Escape') {\n          handleContinue();\n        }\n      }\n\n      cleanup = (): void => {\n        document.body.removeChild(modalOverlay);\n        continueButton.removeEventListener('click', handleContinue);\n        modalOverlay.removeEventListener('click', handleOverlayClick);\n        document.removeEventListener('keydown', handleEscape);\n      };\n\n      continueButton.addEventListener('click', handleContinue);\n      modalOverlay.addEventListener('click', handleOverlayClick);\n      document.addEventListener('keydown', handleEscape);\n    });\n\n  return { container: modalOverlay, show };\n}\n","export function getCardPadding(card: HTMLElement): { left: number; right: number } {\n  if (card.classList.contains('word-card-start')) {\n    return { left: 12, right: 24 };\n  }\n  if (card.classList.contains('word-card-end')) {\n    return { left: 24, right: 12 };\n  }\n  if (card.classList.contains('word-card-middle')) {\n    return { left: 24, right: 24 };\n  }\n  return { left: 20, right: 20 };\n}\n\nexport function getCardPaddingByIndex(\n  index: number,\n  total: number\n): { left: number; right: number } {\n  if (index === 0) {\n    return { left: 12, right: 24 };\n  }\n  if (index === total - 1) {\n    return { left: 24, right: 12 };\n  }\n  return { left: 24, right: 24 };\n}\n","import { getCardPadding } from './cardPadding';\n\nfunction isNumberArray(value: unknown): value is number[] {\n  return Array.isArray(value) && value.every((item) => typeof item === 'number');\n}\n\nfunction calculateCardWidths(row: HTMLElement): void {\n  const rowCards = Array.from(row.children).filter(\n    (child): child is HTMLElement => child instanceof HTMLElement\n  );\n  if (rowCards.length === 0) {\n    return;\n  }\n\n  const sentenceData = row.getAttribute('data-sentence-ratios');\n  const totalPaddingBordersData = row.getAttribute('data-total-padding-borders');\n  if (!sentenceData || !totalPaddingBordersData) {\n    return;\n  }\n\n  const parsed = JSON.parse(sentenceData);\n  if (!isNumberArray(parsed)) {\n    return;\n  }\n  const sentenceRatios = parsed;\n  const totalRatio = sentenceRatios.reduce((sum, ratio) => sum + ratio, 0);\n  const totalPaddingAndBorders = parseFloat(totalPaddingBordersData);\n\n  if (totalRatio > 0) {\n    const rowWidth = row.getBoundingClientRect().width || row.offsetWidth;\n    const borderWidth = 2;\n    const availableWidth = rowWidth - totalPaddingAndBorders;\n\n    if (availableWidth > 0) {\n      rowCards.forEach((card) => {\n        const ratio = parseFloat(card.getAttribute('data-width-ratio') || '0');\n        if (ratio > 0) {\n          const padding = getCardPadding(card);\n          const cardContentWidth = (ratio / totalRatio) * availableWidth;\n          const cardTotalWidth = cardContentWidth + padding.left + padding.right + borderWidth * 2;\n          const widthPercentage = (cardTotalWidth / rowWidth) * 100;\n          card.style.setProperty('--card-width', `${widthPercentage}%`);\n        }\n      });\n    }\n  }\n}\n\nexport default calculateCardWidths;\n","let currentRowIndex = 0;\nconst rowClickHandlers = new Map<number, (e: Event) => void>();\n\nexport function getCurrentRowIndex(): number {\n  return currentRowIndex;\n}\n\nexport function setCurrentRowIndex(index: number, rows: HTMLElement[]): void {\n  const ROWS_COUNT = 10;\n  if (index >= 0 && index < ROWS_COUNT) {\n    rows.forEach((row, i) => {\n      if (i === index) {\n        row.classList.add('active-row');\n      } else {\n        row.classList.remove('active-row');\n      }\n    });\n    currentRowIndex = index;\n  }\n}\n\nexport function setupRowClickHandler(\n  rowIndex: number,\n  rows: HTMLElement[],\n  handler: (cardElement: HTMLElement) => void\n): void {\n  rows.forEach((r, index) => {\n    const existingHandler = rowClickHandlers.get(index);\n    if (existingHandler) {\n      r.removeEventListener('click', existingHandler);\n      rowClickHandlers.delete(index);\n    }\n  });\n\n  if (rowIndex >= 0 && rowIndex < rows.length) {\n    const row = rows[rowIndex];\n    if (row) {\n      const clickHandler = (e: Event): void => {\n        if (rowIndex !== currentRowIndex) {\n          return;\n        }\n\n        const { target } = e;\n        if (!(target instanceof HTMLElement)) {\n          return;\n        }\n\n        let cardElement: HTMLElement | null = target;\n        while (cardElement && !cardElement.classList.contains('word-card-placed')) {\n          cardElement = cardElement.parentElement;\n        }\n\n        if (cardElement && cardElement.parentNode === row) {\n          handler(cardElement);\n        }\n      };\n\n      rowClickHandlers.set(rowIndex, clickHandler);\n      row.addEventListener('click', clickHandler);\n    }\n  }\n}\n","import calculateCardWidths from '../utils/cardWidthCalculator';\nimport { getCardPaddingByIndex } from '../utils/cardPadding';\nimport {\n  getCurrentRowIndex as getCurrentRowIndexUtil,\n  setCurrentRowIndex as setCurrentRowIndexUtil,\n  setupRowClickHandler as setupRowClickHandlerUtil,\n} from '../utils/rowClickHandler';\n\nconst ROWS_COUNT = 10;\n\nexport interface GameBoardResult {\n  container: HTMLElement;\n  rows: HTMLElement[];\n  addCardToRow: (_rowIndex: number, _card: HTMLElement) => void;\n  removeCardFromRow: (_rowIndex: number, _cardElement: HTMLElement) => HTMLElement | null;\n  clearRow: (_rowIndex: number) => void;\n  clearAllRows: () => void;\n  getCurrentRowIndex: () => number;\n  setCurrentRowIndex: (_index: number) => void;\n  setRowSentence: (_rowIndex: number, _words: string[]) => void;\n  setupRowClickHandler: (_rowIndex: number, _handler: (_cardElement: HTMLElement) => void) => void;\n  getRowCards: (_rowIndex: number) => HTMLElement[];\n}\n\nexport default function createGameBoard(): GameBoardResult {\n  const board = document.createElement('div');\n  board.className = 'game-board';\n\n  const rows: HTMLElement[] = [];\n\n  for (let i = 0; i < ROWS_COUNT; i += 1) {\n    const row = document.createElement('div');\n    row.className = 'game-board-row';\n    row.setAttribute('data-row-index', i.toString());\n    if (i === 0) {\n      row.classList.add('active-row');\n    }\n    board.appendChild(row);\n    rows.push(row);\n  }\n\n  function addCardToRow(rowIndex: number, card: HTMLElement): void {\n    if (rowIndex >= 0 && rowIndex < rows.length) {\n      const row = rows[rowIndex];\n      if (row) {\n        const cardClone = card.cloneNode(true);\n        if (!(cardClone instanceof HTMLElement)) {\n          return;\n        }\n\n        cardClone.classList.add('word-card-placed');\n        const cardId = card.getAttribute('data-card-id');\n        if (cardId) {\n          cardClone.setAttribute('data-original-card-id', cardId);\n        }\n\n        row.appendChild(cardClone);\n\n        setTimeout(() => {\n          calculateCardWidths(row);\n        }, 0);\n      }\n    }\n  }\n\n  function removeCardFromRow(rowIndex: number, cardElement: HTMLElement): HTMLElement | null {\n    if (rowIndex >= 0 && rowIndex < rows.length) {\n      const row = rows[rowIndex];\n      if (row && cardElement.parentNode === row) {\n        row.removeChild(cardElement);\n        setTimeout(() => {\n          calculateCardWidths(row);\n        }, 0);\n        return cardElement;\n      }\n    }\n    return null;\n  }\n\n  function setupRowClickHandler(\n    rowIndex: number,\n    handler: (cardElement: HTMLElement) => void\n  ): void {\n    setupRowClickHandlerUtil(rowIndex, rows, handler);\n  }\n\n  function getRowCards(rowIndex: number): HTMLElement[] {\n    if (rowIndex >= 0 && rowIndex < rows.length) {\n      const row = rows[rowIndex];\n      if (row) {\n        return Array.from(row.children).filter(\n          (child): child is HTMLElement => child instanceof HTMLElement\n        );\n      }\n    }\n    return [];\n  }\n\n  function clearRow(rowIndex: number): void {\n    if (rowIndex >= 0 && rowIndex < rows.length) {\n      const row = rows[rowIndex];\n      if (row) {\n        while (row.firstChild) {\n          row.removeChild(row.firstChild);\n        }\n      }\n    }\n  }\n\n  function clearAllRows(): void {\n    rows.forEach((row) => {\n      while (row.firstChild) {\n        row.removeChild(row.firstChild);\n      }\n    });\n  }\n\n  function getCurrentRowIndex(): number {\n    return getCurrentRowIndexUtil();\n  }\n\n  function setCurrentRowIndex(index: number): void {\n    setCurrentRowIndexUtil(index, rows);\n  }\n\n  function setRowSentence(rowIndex: number, words: string[]): void {\n    if (rowIndex >= 0 && rowIndex < rows.length) {\n      const row = rows[rowIndex];\n      if (row) {\n        const totalLength = words.reduce((sum, word) => sum + word.length, 0);\n        const ratios = words.map((word) => word.length / totalLength);\n        const borderWidth = 2;\n        const totalPaddingAndBorders = words.reduce((sum, _word, index) => {\n          const padding = getCardPaddingByIndex(index, words.length);\n          return sum + padding.left + padding.right + borderWidth * 2;\n        }, 0);\n        row.setAttribute('data-sentence-ratios', JSON.stringify(ratios));\n        row.setAttribute('data-total-padding-borders', totalPaddingAndBorders.toString());\n      }\n    }\n  }\n\n  const resizeHandler = (): void => {\n    rows.forEach((row) => {\n      if (row.children.length > 0) {\n        calculateCardWidths(row);\n      }\n    });\n  };\n\n  window.addEventListener('resize', resizeHandler);\n\n  const resizeObserver = new ResizeObserver(() => {\n    resizeHandler();\n  });\n\n  resizeObserver.observe(board);\n\n  return {\n    container: board,\n    rows,\n    addCardToRow,\n    removeCardFromRow,\n    clearRow,\n    clearAllRows,\n    getCurrentRowIndex,\n    setCurrentRowIndex,\n    setRowSentence,\n    setupRowClickHandler,\n    getRowCards,\n  };\n}\n","export interface WordCardResult {\n  element: HTMLElement;\n  word: string;\n  isUsed: boolean;\n  originalIndex: number;\n  shuffledIndex: number;\n}\n\nexport default function createWordCard(word: string, index: number, total: number): WordCardResult {\n  const card = document.createElement('div');\n  card.className = 'word-card';\n  card.textContent = word;\n  card.setAttribute('data-word-length', word.length.toString());\n  card.setAttribute('data-card-id', `${word}-${index}`);\n\n  if (index === 0) {\n    card.classList.add('word-card-start');\n  } else if (index === total - 1) {\n    card.classList.add('word-card-end');\n  } else {\n    card.classList.add('word-card-middle');\n  }\n\n  return {\n    element: card,\n    word,\n    isUsed: false,\n    originalIndex: index,\n    shuffledIndex: index,\n  };\n}\n","import level1Data from '../levels/wordCollectionLevel1.json';\nimport { LevelCollection } from '../types';\n\nconst MAX_ROUNDS = 10;\n\nfunction isLevelCollection(data: unknown): data is LevelCollection {\n  if (typeof data !== 'object' || data === null) {\n    return false;\n  }\n\n  if (!('rounds' in data)) {\n    return false;\n  }\n\n  const dataObj: Record<string, unknown> = {};\n  Object.keys(data).forEach((key) => {\n    const value = (data as Record<string, unknown>)[key];\n    dataObj[key] = value;\n  });\n\n  return Array.isArray(dataObj.rounds);\n}\n\nexport function shuffleArray<T>(array: T[]): T[] {\n  const shuffled = [...array];\n  for (let i = shuffled.length - 1; i > 0; i -= 1) {\n    const j = Math.floor(Math.random() * (i + 1));\n    const temp = shuffled[i];\n    const swap = shuffled[j];\n    if (temp !== undefined && swap !== undefined) {\n      shuffled[i] = swap;\n      shuffled[j] = temp;\n    }\n  }\n  return shuffled;\n}\n\ninterface SentenceWithId {\n  id: number;\n  text: string;\n}\n\nfunction getUniqueSentencesWithIds(levelData: LevelCollection): SentenceWithId[] {\n  const sentencesMap = new Map<number, string>();\n\n  levelData.rounds.forEach((round) => {\n    round.words.forEach((word) => {\n      if (word.textExample && word.textExample.trim() && word.id) {\n        if (!sentencesMap.has(word.id)) {\n          sentencesMap.set(word.id, word.textExample.trim());\n        }\n      }\n    });\n  });\n\n  return Array.from(sentencesMap.entries()).map(([id, text]) => ({ id, text }));\n}\n\nexport function loadLevelData(): LevelCollection {\n  if (!isLevelCollection(level1Data)) {\n    throw new Error('Invalid level data format');\n  }\n  return level1Data;\n}\n\nexport function getSentencesForGame(): string[] {\n  const levelData = loadLevelData();\n  const sentencesWithIds = getUniqueSentencesWithIds(levelData);\n\n  if (sentencesWithIds.length === 0) {\n    throw new Error('No sentences found in level data');\n  }\n\n  const shuffledSentences = shuffleArray([...sentencesWithIds]);\n  const selectedSentences = shuffledSentences.slice(0, MAX_ROUNDS);\n\n  return selectedSentences.map((sentence) => sentence.text);\n}\n\nexport function getSentenceWords(sentence: string): string[] {\n  return sentence.split(/\\s+/).filter((word) => word.length > 0);\n}\n","import createWordCard, { WordCardResult } from './WordCard';\nimport { shuffleArray } from '../utils/levelLoader';\n\nexport interface SourceCardsAreaResult {\n  container: HTMLElement;\n  cards: WordCardResult[];\n  removeCard: (_card: WordCardResult) => void;\n  addCard: (_card: WordCardResult) => void;\n  addCardAtEnd: (_card: WordCardResult) => void;\n  clearAll: () => void;\n  reset: (_words: string[]) => void;\n  updateCardStyles: () => void;\n  findCardByElement: (_element: HTMLElement) => WordCardResult | undefined;\n}\n\nfunction updateCardStyles(cards: WordCardResult[]): void {\n  const availableCards = cards.filter((card) => !card.isUsed);\n  const total = cards.length;\n  availableCards.forEach((card) => {\n    card.element.className = 'word-card';\n    if (card.originalIndex === 0) {\n      card.element.classList.add('word-card-start');\n    } else if (card.originalIndex === total - 1) {\n      card.element.classList.add('word-card-end');\n    } else {\n      card.element.classList.add('word-card-middle');\n    }\n  });\n}\n\nfunction calculateSourceCardWidth(card: WordCardResult, allWords: string[]): void {\n  const wordLength = card.word.length;\n  const totalLength = allWords.reduce((sum, word) => sum + word.length, 0);\n\n  if (totalLength > 0) {\n    const widthRatio = wordLength / totalLength;\n    card.element.style.setProperty('--card-width', `${widthRatio * 100}%`);\n    card.element.setAttribute('data-width-ratio', widthRatio.toString());\n  }\n}\n\nexport default function createSourceCardsArea(words: string[]): SourceCardsAreaResult {\n  const container = document.createElement('div');\n  container.className = 'source-cards-area';\n\n  const cards: WordCardResult[] = words.map((word, index) =>\n    createWordCard(word, index, words.length)\n  );\n\n  const shuffledCards = shuffleArray([...cards]);\n  shuffledCards.forEach((card, index) => {\n    card.shuffledIndex = index;\n  });\n  cards.length = 0;\n  cards.push(...shuffledCards);\n\n  shuffledCards.forEach((card) => {\n    calculateSourceCardWidth(card, words);\n    container.appendChild(card.element);\n  });\n\n  function removeCard(cardToRemove: WordCardResult): void {\n    if (cardToRemove.element.parentNode === container) {\n      container.removeChild(cardToRemove.element);\n    }\n    cardToRemove.isUsed = true;\n    updateCardStyles(cards);\n  }\n\n  function addCard(card: WordCardResult): void {\n    if (!cards.includes(card)) {\n      cards.push(card);\n    }\n    if (card.element.parentNode !== container) {\n      container.appendChild(card.element);\n    }\n    card.isUsed = false;\n    updateCardStyles(cards);\n  }\n\n  function addCardAtEnd(card: WordCardResult): void {\n    card.isUsed = false;\n    if (card.element.parentNode !== container) {\n      const availableCards = cards.filter((c) => !c.isUsed && c.element.parentNode === container);\n      const insertIndex = availableCards.findIndex((c) => c.shuffledIndex > card.shuffledIndex);\n\n      if (insertIndex === -1) {\n        container.appendChild(card.element);\n      } else {\n        const nextCard = availableCards[insertIndex];\n        if (nextCard) {\n          container.insertBefore(card.element, nextCard.element);\n        } else {\n          container.appendChild(card.element);\n        }\n      }\n    }\n    const allWords = cards.map((c) => c.word);\n    calculateSourceCardWidth(card, allWords);\n    updateCardStyles(cards);\n  }\n\n  function clearAll(): void {\n    while (container.firstChild) {\n      container.removeChild(container.firstChild);\n    }\n    cards.forEach((card) => {\n      card.isUsed = false;\n    });\n  }\n\n  function reset(newWords: string[]): void {\n    clearAll();\n    cards.length = 0;\n\n    const newCards: WordCardResult[] = newWords.map((word, index) =>\n      createWordCard(word, index, newWords.length)\n    );\n\n    const newShuffledCards = shuffleArray([...newCards]);\n    newShuffledCards.forEach((card, index) => {\n      card.shuffledIndex = index;\n    });\n\n    newShuffledCards.forEach((card) => {\n      calculateSourceCardWidth(card, newWords);\n      cards.push(card);\n      container.appendChild(card.element);\n    });\n  }\n\n  function findCardByElement(element: HTMLElement): WordCardResult | undefined {\n    return cards.find((card) => card.element === element);\n  }\n\n  return {\n    container,\n    cards,\n    removeCard,\n    addCard,\n    addCardAtEnd,\n    clearAll,\n    reset,\n    updateCardStyles: () => updateCardStyles(cards),\n    findCardByElement,\n  };\n}\n","export default function createNewGameButton(): HTMLButtonElement {\n  const button = document.createElement('button');\n  button.type = 'button';\n  button.className = 'new-game-button';\n  button.textContent = 'New Game';\n\n  return button;\n}\n","export default function createNewRowButton(): HTMLButtonElement {\n  const button = document.createElement('button');\n  button.type = 'button';\n  button.className = 'new-row-button';\n  button.textContent = 'New Row';\n\n  return button;\n}\n","import createLogoutButton from '../components/LogoutButton';\nimport { createConfirmModal, createAlertModal } from '../components/ConfirmModal';\nimport { clearUserData } from '../utils/storage';\nimport renderLoginPage from './LoginPage';\nimport createGameBoard from '../components/GameBoard';\nimport createSourceCardsArea from '../components/SourceCardsArea';\nimport createNewGameButton from '../components/NewGameButton';\nimport createNewRowButton from '../components/NewRowButton';\nimport { getSentencesForGame, getSentenceWords } from '../utils/levelLoader';\nimport { WordCardResult } from '../components/WordCard';\n\nfunction clearContainer(container: HTMLElement): void {\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n}\n\nfunction isValidSentence(sentence: string | undefined): sentence is string {\n  return typeof sentence === 'string' && sentence.length > 0;\n}\n\nfunction showErrorMessage(message: string): void {\n  const modal = createAlertModal(message, 'OK');\n  modal.show();\n}\n\nfunction handleLogout(container: HTMLElement): void {\n  const confirmModal = createConfirmModal('Are you sure you want to logout?', 'Logout', 'Cancel');\n\n  confirmModal.show().then((confirmed) => {\n    if (confirmed) {\n      try {\n        clearUserData();\n        renderLoginPage(container);\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Failed to logout';\n        showErrorMessage(errorMessage);\n      }\n    }\n  });\n}\n\nfunction handleCardClick(\n  card: WordCardResult,\n  sourceArea: ReturnType<typeof createSourceCardsArea>,\n  gameBoard: ReturnType<typeof createGameBoard>\n): void {\n  if (card.isUsed) {\n    return;\n  }\n\n  const currentRow = gameBoard.getCurrentRowIndex();\n  gameBoard.addCardToRow(currentRow, card.element);\n  sourceArea.removeCard(card);\n}\n\nfunction handlePlacedCardClick(\n  cardElement: HTMLElement,\n  sourceArea: ReturnType<typeof createSourceCardsArea>,\n  gameBoard: ReturnType<typeof createGameBoard>\n): void {\n  const currentRow = gameBoard.getCurrentRowIndex();\n  const originalCardId = cardElement.getAttribute('data-original-card-id');\n  if (!originalCardId) {\n    return;\n  }\n\n  const card = sourceArea.cards.find((c) => {\n    const cardId = c.element.getAttribute('data-card-id');\n    return cardId === originalCardId;\n  });\n\n  if (card) {\n    gameBoard.removeCardFromRow(currentRow, cardElement);\n    sourceArea.addCardAtEnd(card);\n  }\n}\n\nfunction setupCardClickHandlers(\n  sourceArea: ReturnType<typeof createSourceCardsArea>,\n  gameBoard: ReturnType<typeof createGameBoard>\n): void {\n  const clickHandler = (e: Event): void => {\n    const { target } = e;\n    if (!(target instanceof HTMLElement)) {\n      return;\n    }\n\n    let cardElement: HTMLElement | null = target;\n    while (cardElement && !cardElement.classList.contains('word-card')) {\n      cardElement = cardElement.parentElement;\n    }\n\n    if (!cardElement) {\n      return;\n    }\n\n    const card = sourceArea.cards.find((c) => c.element === cardElement);\n    if (card && !card.isUsed) {\n      handleCardClick(card, sourceArea, gameBoard);\n    }\n  };\n\n  sourceArea.container.removeEventListener('click', clickHandler);\n  sourceArea.container.addEventListener('click', clickHandler);\n}\n\nfunction setupPlacedCardClickHandlers(\n  sourceArea: ReturnType<typeof createSourceCardsArea>,\n  gameBoard: ReturnType<typeof createGameBoard>\n): void {\n  const currentRow = gameBoard.getCurrentRowIndex();\n  gameBoard.setupRowClickHandler(currentRow, (cardElement) => {\n    handlePlacedCardClick(cardElement, sourceArea, gameBoard);\n  });\n}\n\nfunction startNewRound(\n  sentence: string,\n  sourceArea: ReturnType<typeof createSourceCardsArea>,\n  gameBoard: ReturnType<typeof createGameBoard>\n): void {\n  const words = getSentenceWords(sentence);\n  const currentRow = gameBoard.getCurrentRowIndex();\n  gameBoard.setRowSentence(currentRow, words);\n  sourceArea.reset(words);\n  setupCardClickHandlers(sourceArea, gameBoard);\n  setupPlacedCardClickHandlers(sourceArea, gameBoard);\n}\n\nfunction handleNewGame(\n  sentences: string[],\n  sourceArea: ReturnType<typeof createSourceCardsArea>,\n  gameBoard: ReturnType<typeof createGameBoard>\n): void {\n  gameBoard.clearAllRows();\n  gameBoard.setCurrentRowIndex(0);\n  const firstSentence = sentences[0];\n  if (isValidSentence(firstSentence)) {\n    startNewRound(firstSentence, sourceArea, gameBoard);\n  }\n}\n\nfunction handleNewRow(\n  sentences: string[],\n  sourceArea: ReturnType<typeof createSourceCardsArea>,\n  gameBoard: ReturnType<typeof createGameBoard>,\n  getCurrentRoundIndex: () => number,\n  setCurrentRoundIndex: (_index: number) => void\n): void {\n  const currentRow = gameBoard.getCurrentRowIndex();\n  const currentRound = getCurrentRoundIndex();\n  const currentSentence = sentences[currentRound];\n\n  // Check if current row is complete\n  if (isValidSentence(currentSentence)) {\n    const words = getSentenceWords(currentSentence);\n    const rowCards = gameBoard.getRowCards(currentRow);\n    const isRowComplete = rowCards.length === words.length;\n\n    if (isRowComplete) {\n      // Row is complete, move to next row\n      const nextRow = currentRow + 1;\n      if (nextRow >= 10) {\n        const modal = createAlertModal('Congratulations! You completed all rounds!', 'OK');\n        modal.show().then(() => {\n          setCurrentRoundIndex(0);\n          handleNewGame(sentences, sourceArea, gameBoard);\n        });\n        return;\n      }\n\n      const nextRound = currentRound + 1;\n      if (nextRound >= sentences.length) {\n        const modal = createAlertModal('Congratulations! You completed all rounds!', 'OK');\n        modal.show().then(() => {\n          setCurrentRoundIndex(0);\n          handleNewGame(sentences, sourceArea, gameBoard);\n        });\n        return;\n      }\n\n      const sentence = sentences[nextRound];\n      if (isValidSentence(sentence)) {\n        gameBoard.setCurrentRowIndex(nextRow);\n        setCurrentRoundIndex(nextRound);\n        startNewRound(sentence, sourceArea, gameBoard);\n      }\n      return;\n    }\n  }\n\n  // Row is incomplete, clear it and start new round on same row\n  const rowCards = gameBoard.getRowCards(currentRow);\n  rowCards.forEach((cardElement) => {\n    const originalCardId = cardElement.getAttribute('data-original-card-id');\n    if (originalCardId) {\n      const card = sourceArea.cards.find((c) => {\n        const cardId = c.element.getAttribute('data-card-id');\n        return cardId === originalCardId;\n      });\n      if (card) {\n        gameBoard.removeCardFromRow(currentRow, cardElement);\n        sourceArea.addCardAtEnd(card);\n      }\n    }\n  });\n\n  gameBoard.clearRow(currentRow);\n\n  const nextRound = currentRound + 1;\n  if (nextRound >= sentences.length) {\n    const modal = createAlertModal('Congratulations! You completed all rounds!', 'OK');\n    modal.show().then(() => {\n      setCurrentRoundIndex(0);\n      handleNewGame(sentences, sourceArea, gameBoard);\n    });\n    return;\n  }\n\n  const sentence = sentences[nextRound];\n  if (isValidSentence(sentence)) {\n    setCurrentRoundIndex(nextRound);\n    startNewRound(sentence, sourceArea, gameBoard);\n  }\n}\n\nexport default function renderGamePage(container: HTMLElement): void {\n  clearContainer(container);\n\n  let sentences: string[] = [];\n  try {\n    sentences = getSentencesForGame();\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : 'Failed to load game data';\n    showErrorMessage(errorMessage);\n    return;\n  }\n\n  let currentRoundIndex = 0;\n\n  const gamePage = document.createElement('div');\n  gamePage.className = 'game-page';\n\n  const header = document.createElement('header');\n  header.className = 'game-header';\n\n  const logo = document.createElement('img');\n  logo.src = '/favicon.svg';\n  logo.alt = 'RSS Puzzle Logo';\n  logo.className = 'game-logo';\n  header.appendChild(logo);\n\n  const title = document.createElement('h1');\n  title.className = 'game-title';\n  title.textContent = 'English Puzzle';\n  header.appendChild(title);\n\n  const logoutButton = createLogoutButton();\n  logoutButton.addEventListener('click', () => {\n    handleLogout(container);\n  });\n  header.appendChild(logoutButton);\n\n  gamePage.appendChild(header);\n\n  const gameContent = document.createElement('div');\n  gameContent.className = 'game-content';\n\n  const gameBoard = createGameBoard();\n  gameContent.appendChild(gameBoard.container);\n\n  const sourceArea = createSourceCardsArea([]);\n  gameContent.appendChild(sourceArea.container);\n\n  const controlsContainer = document.createElement('div');\n  controlsContainer.className = 'game-controls';\n\n  const newGameButton = createNewGameButton();\n  newGameButton.addEventListener('click', () => {\n    currentRoundIndex = 0;\n    handleNewGame(sentences, sourceArea, gameBoard);\n  });\n  controlsContainer.appendChild(newGameButton);\n\n  const newRowButton = createNewRowButton();\n  newRowButton.addEventListener('click', () => {\n    handleNewRow(\n      sentences,\n      sourceArea,\n      gameBoard,\n      () => currentRoundIndex,\n      (index) => {\n        currentRoundIndex = index;\n      }\n    );\n  });\n  controlsContainer.appendChild(newRowButton);\n\n  gameContent.appendChild(controlsContainer);\n\n  gamePage.appendChild(gameContent);\n\n  container.appendChild(gamePage);\n\n  const firstSentence = sentences[0];\n  if (isValidSentence(firstSentence)) {\n    startNewRound(firstSentence, sourceArea, gameBoard);\n  }\n}\n","import createLogoutButton from '../components/LogoutButton';\nimport createStartButton from '../components/StartButton';\nimport { createConfirmModal, createAlertModal } from '../components/ConfirmModal';\nimport { clearUserData, getUserData } from '../utils/storage';\nimport renderLoginPage from './LoginPage';\nimport renderGamePage from './GamePage';\n\nfunction clearContainer(container: HTMLElement): void {\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n}\n\nfunction showErrorMessage(message: string): void {\n  const modal = createAlertModal(message, 'OK');\n  modal.show();\n}\n\nfunction showWelcomeMessage(): void {\n  const userData = getUserData();\n  if (userData) {\n    const greeting = `Welcome, ${userData.firstName} ${userData.surname}!`;\n    const welcomeModal = createAlertModal(greeting, 'Continue');\n    welcomeModal.show();\n  }\n}\n\nfunction handleLogout(container: HTMLElement): void {\n  const confirmModal = createConfirmModal('Are you sure you want to logout?', 'Logout', 'Cancel');\n\n  confirmModal.show().then((confirmed) => {\n    if (confirmed) {\n      try {\n        clearUserData();\n        renderLoginPage(container);\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Failed to logout';\n        showErrorMessage(errorMessage);\n      }\n    }\n  });\n}\n\nexport default function renderStartPage(container: HTMLElement): void {\n  clearContainer(container);\n\n  const startPage = document.createElement('div');\n  startPage.className = 'start-page';\n\n  const content = document.createElement('div');\n  content.className = 'start-content';\n\n  const header = document.createElement('div');\n  header.className = 'start-header';\n\n  const logo = document.createElement('img');\n  logo.src = '/favicon.svg';\n  logo.alt = 'RSS Puzzle Logo';\n  logo.className = 'start-logo';\n  header.appendChild(logo);\n\n  const title = document.createElement('h1');\n  title.className = 'start-title';\n  title.textContent = 'ENGLISH PUZZLE';\n  header.appendChild(title);\n\n  content.appendChild(header);\n\n  const description = document.createElement('p');\n  description.className = 'start-description';\n  description.textContent =\n    'RSS Puzzle is an interactive mini-game aimed at enhancing English language skills. Players assemble sentences from jumbled words. The game integrates various levels of difficulty, hint options, and a unique puzzle-like experience with artwork.';\n  content.appendChild(description);\n\n  const buttonsContainer = document.createElement('div');\n  buttonsContainer.className = 'start-buttons';\n\n  const startButton = createStartButton();\n  startButton.addEventListener('click', () => {\n    renderGamePage(container);\n  });\n  buttonsContainer.appendChild(startButton);\n\n  const logoutButton = createLogoutButton();\n  logoutButton.addEventListener('click', () => {\n    handleLogout(container);\n  });\n  buttonsContainer.appendChild(logoutButton);\n\n  content.appendChild(buttonsContainer);\n\n  startPage.appendChild(content);\n  container.appendChild(startPage);\n\n  showWelcomeMessage();\n}\n","import createInputField from './InputField';\nimport createLoginButton from './LoginButton';\nimport { validateNameField, formatNameInput } from '../utils/validation';\nimport { saveUserData, getUserData } from '../utils/storage';\nimport renderStartPage from '../pages/StartPage';\n\nfunction updateFieldError(\n  errorElement: HTMLElement,\n  input: HTMLInputElement,\n  errorMessage: string\n): void {\n  if (errorMessage) {\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add('input-error-visible');\n    input.classList.add('input-error-state');\n  } else {\n    errorElement.textContent = '';\n    errorElement.classList.remove('input-error-visible');\n    input.classList.remove('input-error-state');\n  }\n}\n\nexport default function createLoginForm(container: HTMLElement): HTMLElement {\n  const form = document.createElement('form');\n  form.className = 'login-form';\n  form.setAttribute('novalidate', '');\n\n  const firstNameField = createInputField('firstName', 'First Name', true);\n  const surnameField = createInputField('surname', 'Surname', true);\n  const loginButton = createLoginButton();\n\n  loginButton.disabled = true;\n\n  let firstNameValid = false;\n  let surnameValid = false;\n\n  const validateForm = (): void => {\n    const firstNameValue = firstNameField.input.value;\n    const surnameValue = surnameField.input.value;\n\n    const firstNameValidation = validateNameField('firstName', firstNameValue);\n    const surnameValidation = validateNameField('surname', surnameValue);\n\n    firstNameValid = firstNameValidation.isValid;\n    surnameValid = surnameValidation.isValid;\n\n    updateFieldError(\n      firstNameField.errorMessage,\n      firstNameField.input,\n      firstNameValidation.errorMessage\n    );\n    updateFieldError(surnameField.errorMessage, surnameField.input, surnameValidation.errorMessage);\n\n    loginButton.disabled = !(firstNameValid && surnameValid);\n  };\n\n  const handleFirstNameInput = (): void => {\n    const formatted = formatNameInput(firstNameField.input.value);\n    firstNameField.input.value = formatted;\n    validateForm();\n  };\n\n  const handleSurnameInput = (): void => {\n    const formatted = formatNameInput(surnameField.input.value);\n    surnameField.input.value = formatted;\n    validateForm();\n  };\n\n  const savedData = getUserData();\n  if (savedData) {\n    firstNameField.input.value = savedData.firstName;\n    surnameField.input.value = savedData.surname;\n    validateForm();\n  }\n\n  firstNameField.input.addEventListener('input', handleFirstNameInput);\n  firstNameField.input.addEventListener('blur', validateForm);\n  surnameField.input.addEventListener('input', handleSurnameInput);\n  surnameField.input.addEventListener('blur', validateForm);\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    validateForm();\n\n    if (firstNameValid && surnameValid) {\n      const userData = {\n        firstName: firstNameField.input.value.trim(),\n        surname: surnameField.input.value.trim(),\n      };\n\n      try {\n        saveUserData(userData);\n        renderStartPage(container);\n      } catch (error) {\n        const errorMessage = error instanceof Error ? error.message : 'Failed to save user data';\n        updateFieldError(surnameField.errorMessage, surnameField.input, errorMessage);\n      }\n    }\n  });\n\n  form.appendChild(firstNameField.container);\n  form.appendChild(surnameField.container);\n  form.appendChild(loginButton);\n\n  return form;\n}\n","import createLoginForm from '../components/LoginForm';\n\nfunction clearContainer(container: HTMLElement): void {\n  while (container.firstChild) {\n    container.removeChild(container.firstChild);\n  }\n}\n\nexport default function renderLoginPage(container: HTMLElement): void {\n  clearContainer(container);\n\n  const loginPage = document.createElement('div');\n  loginPage.className = 'login-page';\n\n  const title = document.createElement('h1');\n  title.className = 'login-title';\n  title.textContent = 'English Puzzle';\n  loginPage.appendChild(title);\n\n  const formContainer = createLoginForm(container);\n  loginPage.appendChild(formContainer);\n\n  container.appendChild(loginPage);\n}\n","import { getUserData } from './storage';\n\nexport default function isUserLoggedIn(): boolean {\n  const userData = getUserData();\n  return userData !== null;\n}\n","import './styles.css';\nimport './styles/login.css';\nimport './styles/game.css';\nimport './styles/start.css';\nimport './styles/modal.css';\nimport renderLoginPage from './pages/LoginPage';\nimport renderStartPage from './pages/StartPage';\nimport isUserLoggedIn from './utils/auth';\n\nfunction initApp(): void {\n  const appElement = document.getElementById('app');\n\n  if (!appElement || !(appElement instanceof HTMLElement)) {\n    throw new Error('Element with id \"app\" not found');\n  }\n\n  if (isUserLoggedIn()) {\n    renderStartPage(appElement);\n  } else {\n    renderLoginPage(appElement);\n  }\n}\n\ninitApp();\n"],"names":["createInputField","id","labelText","required","fieldContainer","label","input","errorMessage","createLoginButton","button","NAME_REGEX","MIN_FIRST_NAME_LENGTH","MIN_SURNAME_LENGTH","isValidCharacters","value","isValidHyphenPosition","isFirstLetterUppercase","firstChar","validateFirstName","trimmed","validateSurname","validateNameField","fieldId","formatNameInput","formatted","upperFirst","rest","STORAGE_KEY","isUserData","valueObj","key","val","saveUserData","userData","jsonData","error","getUserData","storedData","parsed","clearUserData","createLogoutButton","createStartButton","createConfirmModal","message","confirmText","cancelText","modalOverlay","modal","modalContent","modalMessage","modalButtons","cancelButton","confirmButton","resolve","isResolved","cleanup","handleConfirm","handleCancel","handleOverlayClick","e","handleEscape","createAlertModal","buttonText","continueButton","handleContinue","getCardPadding","card","getCardPaddingByIndex","index","total","isNumberArray","item","calculateCardWidths","row","rowCards","child","sentenceData","totalPaddingBordersData","totalRatio","sum","ratio","totalPaddingAndBorders","rowWidth","borderWidth","availableWidth","padding","widthPercentage","currentRowIndex","rowClickHandlers","getCurrentRowIndex","setCurrentRowIndex","rows","i","setupRowClickHandler","rowIndex","handler","r","existingHandler","clickHandler","target","cardElement","ROWS_COUNT","createGameBoard","board","addCardToRow","cardClone","cardId","removeCardFromRow","setupRowClickHandlerUtil","getRowCards","clearRow","clearAllRows","getCurrentRowIndexUtil","setCurrentRowIndexUtil","setRowSentence","words","totalLength","word","ratios","_word","resizeHandler","createWordCard","MAX_ROUNDS","isLevelCollection","data","dataObj","shuffleArray","array","shuffled","j","temp","swap","getUniqueSentencesWithIds","levelData","sentencesMap","round","text","loadLevelData","level1Data","getSentencesForGame","sentencesWithIds","sentence","getSentenceWords","updateCardStyles","cards","availableCards","calculateSourceCardWidth","allWords","wordLength","widthRatio","createSourceCardsArea","container","shuffledCards","removeCard","cardToRemove","addCard","addCardAtEnd","c","insertIndex","nextCard","clearAll","reset","newWords","newCards","newShuffledCards","findCardByElement","element","createNewGameButton","createNewRowButton","clearContainer","isValidSentence","showErrorMessage","handleLogout","confirmed","renderLoginPage","handleCardClick","sourceArea","gameBoard","currentRow","handlePlacedCardClick","originalCardId","setupCardClickHandlers","setupPlacedCardClickHandlers","startNewRound","handleNewGame","sentences","firstSentence","handleNewRow","getCurrentRoundIndex","setCurrentRoundIndex","currentRound","currentSentence","nextRow","nextRound","renderGamePage","currentRoundIndex","gamePage","header","logo","title","logoutButton","gameContent","controlsContainer","newGameButton","newRowButton","showWelcomeMessage","greeting","renderStartPage","startPage","content","description","buttonsContainer","startButton","updateFieldError","errorElement","createLoginForm","form","firstNameField","surnameField","loginButton","firstNameValid","surnameValid","validateForm","firstNameValue","surnameValue","firstNameValidation","surnameValidation","handleFirstNameInput","handleSurnameInput","savedData","loginPage","formContainer","isUserLoggedIn","initApp","appElement"],"mappings":"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"}